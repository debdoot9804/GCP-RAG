
# ğŸ¤– RAG AI Chat Assistant

A production-grade **Retrieval-Augmented Generation (RAG) chatbot** powered by **Azure OpenAI, FastAPI, PostgreSQL (pgvector), and Streamlit** â€” fully deployed on **Google Cloud**.

ğŸŒ **Live Demo:**  
ğŸ‘‰ https://debdoot-rag-frontend-961057228920.us-central1.run.app/

<img width="1463" height="832" alt="Screenshot 2025-12-01 at 8 22 32â€¯PM" src="https://github.com/user-attachments/assets/6c11ff33-0869-4468-aad2-b1726daad3c6" />


---

## ğŸ§­ Overview

This project demonstrates a scalable and cloud-native RAG system that allows users to:

- ğŸ“„ Upload and process PDF documents  
- ğŸ” Store document embeddings using **PostgreSQL + pgvector**  
- ğŸ’¬ Ask natural language questions about the uploaded documents  
- ğŸ§  Get context-aware answers generated by **Azure OpenAI GPT-4o-mini**  
- ğŸŒˆ Interact through a clean and colorful **Streamlit UI**  

Deployed completely on **Google Cloud Run**, providing:

- âš¡ Automatic scalability  
- ğŸ”’ Fully managed HTTPS  
- ğŸ” Seamless CI/CD using GitHub Actions  

---

## ğŸ—ï¸ System Architecture

            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚               Frontend          â”‚
            â”‚  - Handles user chat & file uploads        â”‚
            â”‚  - Sends requests to FastAPI backend       â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                Backend (FastAPI)           â”‚
            â”‚  - Parses and embeds documents             â”‚
            â”‚  - Stores embeddings in pgvector DB        â”‚
            â”‚  - Handles chat requests via LangChain     â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚       PostgreSQL + pgvector (Cloud SQL)    â”‚
            â”‚  - Stores document embeddings              â”‚
            â”‚  - Enables semantic similarity search      â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


---

## ğŸ“ Folder Structure

```text
RAG-GCP/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ chat.py
â”‚   â”‚   â””â”€â”€ upload.py
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ db.py
â”‚   â”‚   â”œâ”€â”€ embeddings.py
â”‚   â”‚   â”œâ”€â”€ vectorstore_pg.py
â”‚   â”‚   â””â”€â”€ models.py
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ parser.py
â”‚   â””â”€â”€ main.py
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ app.py
â”‚   â””â”€â”€ requirements.txt
â”‚
â”œâ”€â”€ cloudbuild.yaml
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ requirements.txt
â””â”€â”€ .github/
    â””â”€â”€ workflows/
        â””â”€â”€ deploy.yml


## âš™ï¸ Key Components

| Component | Purpose |
|----------|---------|
| **FastAPI** | Backend API for chat & file processing |
| **OpenAI (GPT-4o-mini)** | Generates contextual answers |
| **Embeddings (text-embedding-3-large)** | Converts text into vectors |
| **PostgreSQL + pgvector** | Vector DB for semantic retrieval |
| **LangChain** | RAG orchestration & retrieval pipeline |
| **Streamlit** | Frontend UI |
| **Google Cloud Run** | Serverless hosting |
| **GitHub Actions** | CI/CD pipeline automation |

---

## ğŸ’¡ Features

âœ” Upload one or more PDFs  
âœ” Automatic text extraction & chunking  
âœ” Embedding generation using Azure OpenAI  
âœ” Intelligent, context-based chat  
âœ” Source document transparency  
âœ” Streamlit-based interactive UI  
âœ” Fully automated CI/CD workflow  
âœ” Serverless cloud deployment  

---

## ğŸ§  How It Works

### ğŸ—‚ï¸ 1ï¸âƒ£ Upload Phase
- User uploads PDF through Streamlit  
- PDF gets parsed & chunked  
- Azure OpenAI generates embeddings  
- Embeddings stored in **pgvector** on Cloud SQL  

### ğŸ’¬ 2ï¸âƒ£ Chat Phase
- User enters a question  
- Query is embedded  
- Relevant chunks retrieved using vector similarity  
- GPT-4o-mini generates a contextual response  
- Streamlit UI displays answer + sources  

---

## ğŸŒˆ Live Demo

Try the deployed version here:  
ğŸ‘‰ **https://debdoot-rag-frontend-961057228920.us-central1.run.app/**

### Example Prompts

- â€œSummarize this document.â€  
- â€œWhat is the main topic discussed?â€  
- â€œWho are the authors mentioned?â€  

---

## âš™ï¸ CI/CD Pipeline

This project uses **GitHub Actions** + **Google Cloud Build** to:

- ğŸ›  Build backend Docker images  
- ğŸ“¦ Push to Artifact Registry  
- ğŸš€ Deploy automatically to Cloud Run  

Configuration:  
`/.github/workflows/deploy.yml`

---

## â˜ï¸ Google Cloud Setup

| Service | Purpose |
|---------|---------|
| **Cloud Run** | Serverless hosting for backend & frontend |
| **Cloud SQL (PostgreSQL)** | Vector DB for embeddings |
| **Artifact Registry** | Stores Docker images |
| **Cloud Build** | CI/CD automation |
| **IAM** | Deployment permissions |

---

## ğŸ“¦ Technologies Used

| Category | Tools |
|----------|-------|
| **Language** | Python 3.11 |
| **Backend** | FastAPI |
| **Frontend** | Streamlit |
| **Vector DB** | PostgreSQL + pgvector |
| **LLM Provider** | OpenAI (GPT-4o-mini) |
| **Embeddings** | text-embedding-3-large |
| **Containerization** | Docker |
| **Deployment** | Google Cloud Run |
| **CI/CD** | GitHub Actions + Cloud Build |

---

## ğŸ§© Future Enhancements

- ğŸš€ Support DOCX, PPTX, TXT files  
- ğŸ§¾ File management dashboard  
- ğŸ‘¥ Multi-user session tracking  
- ğŸ“Š Query analytics & charts  
- ğŸ¨ Enhanced themes for Streamlit  

---



            
